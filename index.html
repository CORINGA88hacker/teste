<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LearnOnline - Home</title>
<link rel="stylesheet" href="style.css" />
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBHIc2E4XwRO5FXo4uHlTQVRArOis73MjE",
  authDomain: "projeto-deus-yato-928-sk-default-rtdb.firebaseapp.com",
  databaseURL: "https://projeto-deus-yato-928-sk-default-rtdb.firebaseio.com",
  projectId: "projeto-deus-yato-928-sk-default-rtdb",
  storageBucket: "projeto-deus-yato-928-sk-default-rtdb.appspot.com",
  messagingSenderId: "790408726854",
  appId: "1:790408726854:android:e2f0de7b7d5dba96b0fd47"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const cursosContainer = document.getElementById('cursosContainer');

get(ref(db, 'cursosDetalhes')).then(snapshot => {
  if(snapshot.exists()) {
    const cursos = snapshot.val();
    for(const id in cursos) {
      const curso = cursos[id];
      const div = document.createElement('div');
      div.classList.add('curso-card');
      div.style.backgroundImage = `url('${curso.capa}')`;
      div.title = curso.titulo;
      div.onclick = () => {
        window.location.href = `detalhes.html?curso=${id}`;
      };
      div.innerHTML = `<div class="overlay"><h3>${curso.titulo}</h3><p>${curso.descricao}</p></div>`;
      cursosContainer.appendChild(div);
    }
  } else {
    cursosContainer.textContent = 'Nenhum curso disponÃ­vel no momento.';
  }
}).catch(err => {
  cursosContainer.textContent = 'Erro ao carregar cursos.';
  console.error(err);
});
</script>
</head>
<body>
<header>
  <h1>LearnOnline</h1>
</header>
<section>
  <h2>Cursos Populares</h2>
  <div id="cursosContainer" class="cursos-grid"></div>
</section>
</body>
</html>
